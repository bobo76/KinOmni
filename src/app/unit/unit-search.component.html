<form class="example-form" [formGroup]='usersForm'>
  <mat-form-field class="example-full-width">
    <input matInput placeholder="Name, description or ID" [matAutocomplete]="auto" formControlName='userInput'>
  </mat-form-field>
  <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" 
    [displayWith]="displayFn" (optionSelected)="valueChanged($event)">
    <mat-option *ngIf="isLoading" >
      <mat-spinner diameter="20"></mat-spinner>
    </mat-option>
    <ng-container *ngIf="!isLoading">
      <mat-option *ngFor="let option of dataSource" [value]="option">
        <span>{{option.machineName}}({{option.unitId}})</span>
        <small> | name : {{option.description}}</small>
      </mat-option>
    </ng-container>
  </mat-autocomplete>
</form>

<div *ngIf="selectedUnit" class="example-full-width">
  <div class= "button-top">
    <button mat-flat-button (click)="onManageDomainClick()" color="primary">Manage domain for this unit</button>
  </div>
  <div>
    <app-unit-detail *ngIf="!showUnitDomain" [selectedUnit]="selectedUnit"
      (saveUnitEvent)="onSaveClick($event)"
      (undoEvent)="onUndoClick()"></app-unit-detail>
    <app-unit-domain *ngIf="showUnitDomain" [unitId]="selectedUnit.uinNo"></app-unit-domain>
  </div>
</div>